

----- Page 1 -----
>
=a

Database Management
Systems

Introduction to Relational Data Model



----- Page 2 -----
First introduced by Ted Codd (in 1970).

Uses concept of mathematical relation.

First commercial implementations of the relational model >
Oracle DBMS, SQL/DS system (IBM).

Current popular RDBMSs — SQL Server & Access (Microsoft),
DB2 & Informix (IBM), etc.

Standard for commercial RDBMS — SQL query lang#age.



----- Page 3 -----
Terminologies

Relational model represents data as a collection of tables.

A table is also called a relation.

Each row — tuple.
Column headers

attributes.

Relation name

|

Attributes

/1\\

STUDENT

ROLL_NO NAME | AGE | PHONE

1 David 18 | 2525364236

Tuples <c :

2 Benjamin | 19 | 3526699663



----- Page 4 -----
e A set of atomic values allowed for an attribute.

e Name : string of characters that represent name of

persons.

Employee_ages: Possible ages of employees of a

company (values between 20 & 70 years old).



----- Page 5 -----
“ Terminologies

* Relation schema:
e Describes a relation.
@ Made up of a relation name R and a list of attributes ALA, A,

LA,

* Degree (or arity) of a relation:

e Number of STUDENT (Name, RollNo, Age, Address, Phone, Grade)

w.
attributes in a STUDENT (Name: string, RollNo: integer, Age: integer,

Address: string, Phone: string, Grade: rea

relation schema.



----- Page 6 -----
“ Terminologies

* Cardinality: STUDENT | ROLL-NO | NAME | AGE

e Total number of tuples present
Cardinality

in a relation.

* Relational database schema:

e Isa set of relation schemas and a set of integrity constraints.

* Relation state (or relation instance):

e Set of tuples at a given time.



----- Page 7 -----
=
—aA
St

Database Management
Systems

Characteristics of Relations



----- Page 8 -----
+ Characteristics of Relations

* Ordering of Tuples within a Relation:

e A relation is a set of

A=, 2, 3, 4}

Set ——>

B= {4, 2, 1, 3}

tuples.

e Tuples in a relation

need not have any

STUDENT

STUDENT

ROLL_NO

particular order.



----- Page 9 -----
+ Characteristics of Relations

* Ordering of Values within a Tuple:

e Ann-tuple — ordered list of n

values, so ordering of values in

STUDENT | ROLL_No | NAME | Ace |

a tuple is important.

With an alternative definition of
relation, ordering of values in a tuple

is unnecessary.



----- Page 10 -----
¢ Characteristics of Relations

| STUDENT | ROLL_NO NAME | AGE

* Ordering of Values within a Tuple:
w

e A tuple — set of (<attribute>,

<value>) pair, then ordering of

attributes is not important. t = <(RollNo, 2), (Name, Ben),
(Age,22)>

t = <(Name, Ben), (Age,22),
(RollNo, 2)>



----- Page 11 -----
STUDENT

Each value in a tuple is

an atomic value. STUDENT | ROLL
NO

Nulls > unknown or a

w
not applicable.

ROLL_NO NAME ADDRESS

2 Ben Bengaluru,
Karnataka-560051

NAME CITY E PINCODE

Ben | Bengaluru | Karnataka | 560051



----- Page 12 -----
¥

@ The relation schema can | crypenr (

be represented as a
* . STUDENT | ROLL.NO NAME G MOBILE
declaration or assertion.
1 Harry 1203571204

e Each tuple can be

2 6523214523

interpreted as a fact. 2525364562



----- Page 13 -----
=>

—A

=H
Database Management

Systems

Relational Model Constraints


----- Page 14 -----
¢¢ Relational Model Constraints
* Constraints on databases:

e Inherent model-based: Inherent in the data model.
e Schema based: Defined directly in the schemas of 1
w
model.
e Application based: Must be expressed and enforce:

application programs.


----- Page 15 -----
> Schema-based Constraints

© Domain Constraints:

STUDENT Name Phone

e@ Must be an atomic value. Jeremy | 2563251425

Charles 1934568978

e Performs data type check.

Weston

Violates Domain Constraints J

© Key Constraints:

e An attribute that can uniquely

STUDENT

identify each tuple in a

relation is called a key.



----- Page 16 -----
~ SuperKey —



----- Page 17 -----
+ Schema-based Constraints
k Key Constraints:

e A superkey specifies that

no two tuples can have

the same value.

e Every relation has at
SK = { RollNo }, { Email },

least one superkey — set { RollNo, Name }, { RollNo, Age },
ofialllatmibutest { RollNo, Emgil }, { Name, Email },
{ Age, Email },
{ RollNo, Name, Age, Email }

a


----- Page 18 -----
> Schema-based Constraints

« Key Constraints:

STUDENT | RollNo Name Age Email

0 Akey sotielies:2 P| reer | remrtin|

have identical values

SK = { RollNo }, { Email },
{ RollNo, Name }, { RollNo, Age },
the key. { RollNo, Email }, { Name, Email },

for all the attributes in

{ Age, Email },
{ RollNo, Name, Age, Email }

(ii) It is a minimal superkey.



----- Page 19 -----
%° ~Schema-based Constraints
* Key Constraints
e Candidate Keys:

— Set of attributes that uniquely identify the tuples in a

relation.

[suoeer[asine[ none [ose] ema
8 [se | o [ronments |
Pa [ot [| totam |
Ps [aoe [s [schemata |



----- Page 20 -----
=>hema-based Constraints

nstraints on Null Values:

Specifies whether null values are

permitted or not (NOT NULL).

tity Integrity epee STUDENT

States that no primary key value

can be null.


----- Page 21 -----
~ Schema-based Constraints

Foreign

& Referential Integrity Constraint:

e Specified between 2 relations.

e States that a tuple in one
relation that refers to another
relation must refer to an

existing tuple in that relation.



----- Page 22 -----
- Schema-based Constraints

Referential Integrity Constraint: Referencing
Relation

Foreign
Key

e@ Foreign key must satisfy the

following:
(i) same domain.
(ii) Value of FK in a tuple
either occurs as a value of
PK i.,
t, [FK] = t,[PK] or is null.

Pts

Referenced [a [cee
Relation


----- Page 23 -----
Relational Databases Schemas
+ In this section we define a relational database and a relational database schema.

* Relational database schema “S” is a set of relational schemas and a set of integrity constraints.

* S={R,R,R,...R}

Q. Write a relational database schema diagram for company database.


----- Page 24 -----
ER diagram of a COMPANY database

"DEPENDENT

Name S CSex > C_Birth_date > CRelationship



----- Page 25 -----
Relational Databases Schemas
Q Figure below shows a relational database schema that we call COMPANY = {EMPLOYEE, DEPARTMENT,

DEPT_LOCATIONS, PROJECT, WORKS_ON, DEPENDENT}.
EMPLOYEE
Fname | Minit | Lname | Ssn | Bdate | Address | Sex | Salary | Super_ssn | Dno

DEPARTMENT i

Dname [ Dnumber | Mgr_ssn | Mgr_start_date

DEPT_LOCATIONS

Diocat

Prame [ Paumber | Plocation | Drum
A —
WORKS_ON
Essn_[ Pno | Hours
1 ——
DEPENDENT
Essn_| Dependent_name | Sex | Bdate | Relationship



----- Page 26 -----
Relational Databases Schemas

‘WORKS_ON

Eaen Bao | Hours
Figure shows a relational database state corresponding to the COMPANY schema, —_|-128480789_|_1_/_sas
EMPLOYEE escasaaaa | 3 | 400
Frame [Mint | tame | Sen | _Odate Teens Sex [Slay | Superson [Oro asaasaa5a | 1 | 200
Job | B_| Sma _| 129486709 | 1065.01.09 [791 Fondren, Houston, 7X] M_ [20000 |aaaaasess | 5 asaasaa5a| 2 | 200
Frankin | T_| Wong | 899445555 | 1055-12-08 [698 Voss, Houston, TX_| M_ [40000 |eaeses6s5 | 5 saaaassss | 2 | 100
‘nica _| J _| Zelaya | 990887777 [1966-01-10 [9921 Caste, Spring. TX | F [26000 loeresaszi | 4 sasaassss | a | 100
Jenner | § | Watace 987654921 | 1941-0620 |201 Bony, Bolae, TX | F [40000 |asessssss | « sssaasss5 | 10 | 100
Ramesh] K | Narayan | 66884444] 1062.00:15 [075 Fre Oak, Humble] m_ |a8000 |2aaaas655 | 5 asaaassss | 20 | 100
Toyoo | A_[Enalish | 459453453 | 1972-07-31 [5691 Ree, Houston, TK | F [26000 |399445655 | 5 ‘o00867777 | 30 | a0
‘Avned | V_| Jabbar [987067067 [1960-03-20 [960 Dates, Houston Tx | M_|2s000 [ow7esasz1 | 209867777 | 10 | 100
James | E [Borg | 688665655 | 1097-11-10 [450 Stone, Houston, TX | M_ [85000 [NULL 1 987067087 | 10 | 350
‘987087007 | 30 | 50
eee recta aa pei 907654921 | 30 | 200
ate Dose _|_ Baten "987654921 150
Research 3oaaasss5 | 19900522 1 | Houston
Administration 4 987654321 1995-01-01 4 Stafford SESSOPESE = ind
Headquarters seasesses | _19et0819 5 | Belare DEPENDENT
PROJECT J seamed sen Dependentname [Sex | Bdate | Relationship
8 Ll 333445555 Alice F_| 1986-04-05 | Daughter
(i Poumber | Plocation Bind 333445555 Theodore M_| 1983-10-25 | Son
Product Bellaire 5 ‘333445555 | Joy F | 1058-05-03 | Spouse
Product Sugarland | 5 1987654321 | Abner _| 1942-0228 | Spouse
Product Houston 8 129456789 | Michas! | 19880-04 | Son
Computerization 10 Stafford 4 123456789 Alice F_| 1968-12-30 | Daughter
Teoigastaica | 20) | House; 1 20456709 | Eleabeth F_| 1967-05-05 | Spouse
Nettesets Bo) | Siatend 4 One possible database state for the COMPANY relational database schema.

26


----- Page 27 -----
<->

——aA

Sx
Database Management

Systems

Update Operations


----- Page 28 -----
Update Operations
The INSERT operation:

Domain constraints can

be violated if the given

attribute value doesn't

Violates Domain Constraint

essed [pNe | eNeme | Lecation |

[Reet | te |

fet
~ T\

appear in the

corresponding domain.



----- Page 29 -----
pdate Operations

he INSERT operation:

[ Empuover | Empib.| Nome | Ave | Phone | De |
Ex: Insert <1330, | Beromin

‘Harry’, 25, 652562514, Nef
I> into EMPLOYEE.

(Violates Key constraint)

| 1 | Homon Resources | Bangcore
| 2 | Fnonce | Clee


----- Page 30 -----
Update Operations
The INSERT operation:

Ex: Insert <null, ‘Harry’,
25, 652562514, I> into
EMPLOYEE

(Violates Entity

Integrity Constraint)

Benjamin 6562356521

Charles 4523651852
Not

f 652562514
possible

Location

DEPARTMENT | DNo DName

Human Resources | Bangalore

L\,



----- Page 31 -----
Jodate Operations

he INSERT operation:

EMPLOYEE | EmpID | Name | Age Phone

1330 | Benjamin | 29 | 6562356521

a [asi [a [ane |
Poe [ew [= [sine [|

Violates Referential Integrity Constraint

comnon[oe] oem [on |
[a [me |
sc

Ex: Insert <1332, ‘Harry’,
25,652562514, 5> into
EMPLOYEE.

(Violates Referential

Integrity Constraint)



----- Page 32 -----
Update Operations

EMPLOYEE | EmpID | Name

The DELETE operation:

Phone

1330 | Benjamin

29 6562356521

.
e Ex: (i) Delete the EMPLOYEE 2 |

tuple with Empld = ‘1331’

(Violates referential integrity)

(ii) Delete the WORKS_ON
tuple with EmpID = ‘1331’ and
PNo = 1 (acceptable).



----- Page 33 -----
Update Operations

The UPDATE (or Modify) operation:

e Ex: (i) Update the DNo of
the EMPLOYEE tuple | = mals | ———
with EmpID= ‘1330’ to 1 al eis

EMPLOYEE EmplD | Nome |/Age | Phone

(acceptable).
Ex: (ii) Update the DNo of

the EMPLOYEE tuple with eset |

EmpID= ‘1330’ to 7 Finance Bangalore

Violates referential integrit



----- Page 34 -----
» Update Operations
The UPDATE (or Modify)

operation:
w

Ex: (iii) Update the EmpID of
the EMPLOYEE tuple with
EmpID= ‘1330’ to ‘1331.
(Violates key constraint and

referential integrity constraint)

EMPLOYEE

Benjamin 6562356521

Charles a | 4523651852

[| Sov nt |? |



----- Page 35 -----
Exercises

Suppose that each of the following update operations is applied directly to the
database state as shown below. Discuss alintegrity constraints violated by each

operation, if any, and the different ways of enforcing these constraints.

Alice David BI

m | Edward BI

Lucy Antony B2

~ Bee RegNo | FName | LName DEPARTMENT | DNo Building

B3

INSTRUCTOR | TID Salary

30000

Edward

Antony



----- Page 36 -----
% Exercises

STUDENT | RegNo. LNome DEPARTMENT | DNo Building

1001 David BI

Joo2 Tom Edward BI

1003 Lucy Antony Bo

Joos | Peter Weston B3

a) Insert (1004, ‘Peter’, ‘Weston’, 2) into
¥

STUDENT. INSTRUCTOR | TID LNome | Solary

David | 30000

Edward | 30000

Antony | 32000



----- Page 37 -----
Exercises

STUDENT | RegNo FName DEPARTMENT

Insert (1004, ‘Peter’, ‘Weston’, 2) into

STUDENT. INSTRUCTOR

No constraint violations. David

Insert (004, ‘Mark’, ‘Stevens’, 28000, 5) Edward

Antony

into INSTRUCTOR.

Stevens



----- Page 38 -----
Exercises

STUDENT | RegNo | FName DEPARTMENT | DNo DName | Building

Alice

1002 =z
3 | Lucy Antony

Insert (1004, ‘Peter’, ‘Weston’, 2) into
STUDENT. INSTRUCTOR

FName | LName

: No constraint violations. David

|
|
b) Insert (004, ‘Mark’, ‘Stevens’, 28000, 5) =
|

Antony

mo | Edward

into INSTRUCTOR.
Sol: Violates Referential Integrity because there is no
tuple in the DEPARTMENT relation with DNo —%s.

| Stevens



----- Page 39 -----
KD

~ Exercises

| stubent RegNo | FName LName DEPARTMENT | DNo DName | Building
1001 Alice | David

1002 Tom | Edward

Antony

b) Insert (4, ‘Mark’, ‘Stevens’, 28000, 5)
into INSTRUCTOR.

Sol: We may enforce the constraint by:

| INSTRUCTOR FName LNome Salary | DNo

nice | ova | soo00 | +

(i) Rejecting the insertion. = | a | =n ;

(ii) Changing the value of DNo.

Lucy | Antony | 32000
i) Insert a new tuple in DEPARTMENT with Man Stevens | 28000

DNo = 5.



----- Page 40 -----
Exercises

STUDENT FName

DEPARTMENT

Building

Alice

c) Insert (4, EEE’, B4) into DEPARTMENT.

Sol: Violates key constraint. istructoR | Tio

We may enforce the constraint by:
(i) Rejecting the insertion.

(ii) Changing the value of DNo.



----- Page 41 -----
¢~ Exercises

STUDENT | RegNo | FName LName DEPARTMENT | Die DName | Building

voor | Alice Dovid BI

1002 x m | Edward
1003 Lucy | Antony

null Anna Smith A | MECH
d) Insert (null, ‘Anna’, ‘Smith’, 7) into

STUDENT. INSTRUCTOR ai} LName Salary
avid
Sol: Violates Entity Integrity. Ls | zoo.

| | Edward | 30000
We may enforce this constraint by:

(i) Rejecting the insertion.

(ii) Changing the value of RegNo.



----- Page 42 -----
STUDENT | RegNe

1001

No constraint violations.

LName
David
Edward

Antony

INSTRUCTOR

w

DEPARTMENT

DName

CSE

ECE

Civil

MECH

LName

David

Building

BI



----- Page 43 -----
Exercises

STUDENT | RegNo LNome DEPARTMENT Building

1001 David w Lae

1002 Tom Edward BI

1003 Lucy Antony Bo

Delete the INSTRUCTOR tuples
with TID = 002.

No constraint violations.

INSTRUCTOR | TID LName

David

Delete the DEPARTMENT tuple Edword

with DNo = 1 Antony



----- Page 44 -----
“ Exercises

STUDENT | RegNo | FName | LName DEPARTMENT

Alice | Dovid

Edward

Antony

f) Delete the DEPARTMENT tuples
with DNo = 1.

INSTRUCTOR | TID = LName

Salary

Sol: We may enforce this constraint by: |

| Alice | David

30000

(i) Rejecting the deletion. ==
(ii) Deleting all the tuples that reference this

30000

tuple that is being deleted.



----- Page 45 -----
Exercises

STUDENT | RegNo | FName LName

DEPARTMENT

DNo | DName | Building

Edward

Lucy Antony

|

Alice | David
|
|

Modify the DNo of STUDENT tuple
with RegNo = 1002 to 3.

BI

No constraint violations.

INSTRUCTOR |

LName | Salary

¥

David 30000

Edward | 30000

Antony



----- Page 46 -----
“ Exercises

STUDENT | RegNo FName LName | DNo DEPARTMENT Building

1001 Alice David BI

1003 Lucy Antony

1002 = | Edward |

g) Modify the DNo of STUDENT tuple
with RegNo = 1002 to 3.

oe Sn INSTRUCTOR | TID LNome, || Solory
Sol: No constraint violations. —

David 30000

v
h) Modify the DNo attribute of the Edword
INSTRUCTOR tuple with TID = 003 Antony
to 8.



----- Page 47 -----
¢% Exercises

STUDENT | RegNo DEPARTMENT Building

David

1003 | Lucy | Antony

h) Modify the DNo attribute of the

INSTRUCTOR tuple with TID =
002 to 6. INSTRUCTOR | TD LNome | Solory | DNo

, Dent | s0000 | 4
Sol: We may enforce this constraint by:

(i) Rejecting the updation.
(Ii) Inserting a new DEPARTMENT tuple with
DNo = 8.

| Edward | 30000 | 1

,
8



----- Page 48 -----
¢ Exercises

1. Consider the following relations for a database that keeps track of student
enrollment in courses and books adopted for each course:

STUDENT (SSN, Name, Major, Bdate)

COURSE (Courtet, Quarter, Grade)

ENROLL (SSN, Course#, Quarter, Grade)
BOOK_ADOPTION(Course#, Quarter, Book_ISBN)
TEXT (Book_ISBN, Book-_Title, Publisher, Author)

Specify the foreign keys for this schema, stating any assumptions you make.



----- Page 49 -----
“ Exercises
STUDENT (SSN, Name, Major, Bdate)
COURSE (Course#, Quarter, Grade)
ENROLL (SSN, Course#, Quarter, Grade)
BOOK_ADOPTION (Course#, Quarter, Book_ISBN)
TEXT (Book_ISBN, Book_Title, Publisher, Author)

: The schema of this question has the following four foreign keys:
the attribute SSN of relation ENROLL that references relation STUDENT.
the attribute Course# in relation ENROLL that references relation COURSE.
the attribute Course# in relation BOOK-ADOPTION that references relation
COURSE.
the attribute Book_ISBN of relation BOOK_ADOPTION that references relation
TEXT.



----- Page 50 -----
Exercises

Suppose that each of the following update operations is applied directly to the
database state as shown below. Discuss all integrity constraints violated by each
operation, if any, and the different ways of enforcing these constraints.

EMPLOYEE SSN Salary DEPARTMENT DName Mgr-SSN

123456879 30000 Research | 996589621

Headquarters | 452635142

452635142

996589621

WORKS_ON

Prat |
Prater
<2



----- Page 51 -----
~ Exercises

John | 60000

Femme] |
[mone] = |

a) Insert (665985475, ‘Andrew’, 32000, 3) into EMPLOYEE.

b) Insert ('185985475’, ‘Jessica’, 40000, 7) into EMPLOYEE.

996589621



----- Page 52 -----
DEPARTMENT

Fone i [sm |
996589621 | smith | 50000 fj]

Pra
Ps [rer
Pe [rete

c) Insert (null, ‘Computerization’, 3) into PROJECT.

123456879

452635142

452635142

996589621

d) Insert (1, ‘Administration’, 123456879’) into DEPARTMENT.

Mgr-SSN

996589621

452635142



----- Page 53 -----
“+ Exercises

EMPLOYEE

WORKS.ON

PROJECT | PNo PName

ProductX

er
[re [reer |

e) Insert (null, ‘Finance’, 969598211’) into DEPARTMENT.
f) Delete the EMPLOYEE tuple with SSN = ‘452635142’.



----- Page 54 -----
“ Exercises

Paar | ou [|

Research 996589621

996589621

PROJECT
123456879

452635142

3
Ps [nator

452635142
996589621

g) Delete the WORKS_ON tuple with SSN = ‘452635142’ and PNo = 3.
h) Delete the PROJECT tuple with PNo = 10.



----- Page 55 -----
~% Exercises

EMPLOYEE

| project

i) Modify the DNo of the EMPLOYEE tuple with Mgr_-SSN = ‘452635142’ to 7.

j) Modify the Hours of the WORKS_ON tuple with SSN = ‘452635142’ and PNo = 1



----- Page 56 -----
“~ Exercises

EMPLOYEE SSN Name DEPARTMENT DName Mgr-SSN

123456879 | Sarah Research | 996589621

996!

WORKS.ON

PROJECT PName | DNo

123456879
ProductX
452635142

452635142
——s

996589621

i) Modify the DNo of the EMPLOYEE tuple with Mgr_-SSN = ‘452635142’ to 7.
j) Modify the Hours of the WORKS_ON tuple with SSN = ‘452635142’ and PNo = 1
40 20.

